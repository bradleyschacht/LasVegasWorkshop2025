<img src = "../assets/images/microsoft-logo.png" height = 75/>

# End-to-End Data Engineering:<br>Modern Data Warehousing on Microsoft Fabric

## Lab 7 - Data warehouse management
In this lab you will do something. 

### 7.1 - Checking important warehouse settings

1. If necessary, open **The Workshop** notebook by returning to the **Modern Data Warehousing on Microsoft Fabric** workspace item list by selecting the workspace name from the left navigation bar then selecting **The Workshop** notebook from the item list.

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

1. Run the first cell in the **7.1 - Checking important warehouse settings** section of The Workshop notebook to see the current setting for:

    - Collation
    - Case sensitivity
    - Snapshot isolation
    - Statistics auto create
    - Statistics auto update
    - Delta log publishing
    - V-Order

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

### 7.2 - Statistics management
1. Run the first cell in the **7.2 - Statistics management** section of The Workshop notebook. Explore the results taking note of the types of statistics which have already been generated by the system. 

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

1. Run the next cell in the notebook to manually create statistics on all the primary key columns.

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

1. Run the next cell in the notebook to see all the stats on the tables again and compare the results to the results from two steps ago.

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

### 7.3 - Query monitoring
1. Run the first cell in the **7.3 - Query monitoring** section of The Workshop notebook. Explore the results and note a few important fields:

    - distributed_statement_id
    - total_elapsed_time_ms
    - login_name
    - status
    - program_name
    - allocated_cpu_time_ms
    - data_scanned_remote_storage_mb
    - data_scanned_memory_mb
    - data_scanned_disk_mb
    - command

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

1. Return to the **Modern Data Warehousing on Microsoft Fabric** workspace item list by selecting the workspace name from the left navigation bar then select the **WideWorldImportersDW** data warehouse from the item list.

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

1. From the **Home** tab of the ribbon, select **Query activity** to open the query activity monitor.

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

1. This view shows all completed and currently running queries.  If a query is running and needs to be killed, check the box next to the query then select **Cancel** located above the top left corner of the query list.

    <img src = "../assets/images/microsoft-logo.png" height = 75/>

## Next steps
In this lab, we did something.

- Continue to lab the [Lab 7 - Data warehouse management](<07 - Data warehouse management.md>) lab.

### Additional Resources
<li><a href="https://learn.microsoft.com/en-us/fabric/fundamentals/create-workspaces" targer="_blank">Create a workspace</a></li>
<li><a href="https://learn.microsoft.com/en-us/fabric/data-warehouse/create-warehouse" targer="_blank">Create a Warehouse in Microsoft Fabric</a></li>